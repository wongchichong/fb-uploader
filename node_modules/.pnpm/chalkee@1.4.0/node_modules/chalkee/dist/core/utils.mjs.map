{"version":3,"file":"utils.mjs","sources":["../../src/core/utils.ts"],"sourcesContent":["import { getColor, parseHex, rgbToAnsi256 } from './registry'\r\nimport { createStyleState } from \"./styler\"\r\nimport { mergeStyleStates } from './styler'\r\nimport { ChalkeeBase } from './ChalkeeBase'\r\n\r\n// Extend the ChalkeeBase interface with utility methods\r\ndeclare module './ChalkeeBase' {\r\n    interface ChalkeeBase {\r\n        createBgColor(colorName: string): ChalkeeBase\r\n        createReset(): ChalkeeBase\r\n        createAutoSpacing(): ChalkeeBase\r\n        createHexColor(color: string): ChalkeeBase\r\n        createRgbColor(r: number, g: number, b: number): ChalkeeBase\r\n        createBgHexColor(color: string): ChalkeeBase\r\n        createBgRgbColor(r: number, g: number, b: number): ChalkeeBase\r\n    }\r\n}\r\n\r\n// Attach utility methods to ChalkeeBase prototype\r\nfunction attachUtilMethods(ChalkeeBase: any) {\r\n    // Background color creator\r\n    Object.defineProperty(ChalkeeBase.prototype, 'createBgColor', {\r\n        value: function createBgColor(this: typeof ChalkeeBase, colorName: string): ChalkeeBase {\r\n            const currentState = this._state || createStyleState()\r\n            const colorDef = getColor(colorName)\r\n            if (!colorDef) {\r\n                return this as any as ChalkeeBase\r\n            }\r\n\r\n            const newState = mergeStyleStates(currentState, {\r\n                ...createStyleState(),\r\n                backgroundColors: [colorDef],\r\n                isOpen: true,\r\n                autoSpacing: currentState.autoSpacing || false\r\n            })\r\n            const newInstance = new (this.constructor as any)(newState, '')\r\n            newInstance._accumulatedText = this._accumulatedText\r\n            return newInstance as any as ChalkeeBase\r\n        },\r\n        writable: true,\r\n        enumerable: false,\r\n        configurable: true\r\n    })\r\n\r\n    // Background color replacement creator (for .bg mode)\r\n    Object.defineProperty(ChalkeeBase.prototype, 'createBgReplace', {\r\n        value: function createBgReplace(this: typeof ChalkeeBase, colorName: string): ChalkeeBase {\r\n            const currentState = this._state || createStyleState()\r\n            const colorDef = getColor(colorName)\r\n            if (!colorDef) {\r\n                return this as any as ChalkeeBase\r\n            }\r\n\r\n            // For .bg mode, we want to replace the background color, not add to it\r\n            // We also want a clean state without previous foreground colors or modifiers\r\n            const newState = {\r\n                ...createStyleState(), // Start with a clean state\r\n                backgroundColors: [colorDef], // Set only the new background color\r\n                isOpen: true,\r\n                autoSpacing: currentState.autoSpacing || false,\r\n                previousStyles: currentState // Use the current state as the previous styles\r\n            }\r\n            const newInstance = new (this.constructor as any)(newState, '')\r\n            newInstance._accumulatedText = (this as any)._accumulatedText || '';\r\n            // Preserve background mode flag\r\n            (newInstance as any)._isInBgMode = true\r\n\r\n            // ALSO attach special color methods to this instance for continued .bg mode chaining\r\n            attachSpecialBgMethods(newInstance)\r\n\r\n            return newInstance as any as ChalkeeBase\r\n        },\r\n        writable: true,\r\n        enumerable: false,\r\n        configurable: true\r\n    })\r\n\r\n    // Reset creator\r\n    Object.defineProperty(ChalkeeBase.prototype, 'createReset', {\r\n        value: function createReset(this: typeof ChalkeeBase): ChalkeeBase {\r\n            const currentState = this._state || createStyleState()\r\n            // For reset, we want to completely clear all styles, not merge them\r\n            const newState = {\r\n                ...createStyleState(),\r\n                colors: [],\r\n                modifiers: [],\r\n                backgroundColors: [],\r\n                isOpen: false,\r\n                autoSpacing: currentState.autoSpacing || false\r\n            }\r\n            const newInstance = new (this.constructor as any)(newState, '')\r\n            newInstance._accumulatedText = this._accumulatedText\r\n            return newInstance as any as ChalkeeBase\r\n        },\r\n        writable: true,\r\n        enumerable: false,\r\n        configurable: true\r\n    })\r\n\r\n    // Auto-spacing creator\r\n    Object.defineProperty(ChalkeeBase.prototype, 'createAutoSpacing', {\r\n        value: function createAutoSpacing(this: typeof ChalkeeBase): ChalkeeBase {\r\n            const currentState = this._state || createStyleState()\r\n            const newState = mergeStyleStates(currentState, {\r\n                ...createStyleState(),\r\n                isOpen: true,\r\n                autoSpacing: true\r\n            })\r\n            const newInstance = new (this.constructor as any)(newState, '')\r\n            newInstance._accumulatedText = this._accumulatedText\r\n            // Preserve background mode flag if present\r\n            if ((this as any)._isInBgMode) {\r\n                (newInstance as any)._isInBgMode = true\r\n            }\r\n            // Attach special bg methods to enable .bg chaining from .as\r\n            Object.defineProperty(newInstance, 'bg', {\r\n                get: function () {\r\n                    const bgInstance = newInstance.createBgMode()\r\n                    // Attach special color methods for .bg mode chaining\r\n                    attachSpecialBgMethods(bgInstance)\r\n                    return bgInstance\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            })\r\n            return newInstance as any as ChalkeeBase\r\n        },\r\n        writable: true,\r\n        enumerable: false,\r\n        configurable: true\r\n    })\r\n\r\n    // Background mode creator\r\n    Object.defineProperty(ChalkeeBase.prototype, 'createBgMode', {\r\n        value: function createBgMode(this: typeof ChalkeeBase): ChalkeeBase {\r\n            const currentState = (this as any)._state || createStyleState()\r\n            // Create a new instance that merges with existing state\r\n            const newState = mergeStyleStates(currentState, {\r\n                ...createStyleState(),\r\n                isOpen: true,\r\n                autoSpacing: currentState.autoSpacing || false\r\n            })\r\n            const newInstance = new (this.constructor as any)(newState, '')\r\n            newInstance._accumulatedText = (this as any)._accumulatedText || '';\r\n            // Add a flag to indicate we're in background mode\r\n            (newInstance as any)._isInBgMode = true\r\n            return newInstance as any as ChalkeeBase\r\n        },\r\n        writable: true,\r\n        enumerable: false,\r\n        configurable: true\r\n    })\r\n    // Hex color creator\r\n    Object.defineProperty(ChalkeeBase.prototype, 'createHexColor', {\r\n        value: function createHexColor(this: typeof ChalkeeBase, color: string): ChalkeeBase {\r\n            const currentState = this._state || createStyleState()\r\n\r\n            // Parse hex color\r\n            const hexCode = parseHex(color)\r\n            if (!hexCode) {\r\n                return this as any as ChalkeeBase\r\n            }\r\n\r\n            const [r, g, b] = hexCode\r\n            const ansi256 = rgbToAnsi256(r, g, b)\r\n\r\n            // Create state with the hex color code\r\n            const newState = mergeStyleStates(currentState, {\r\n                ...createStyleState(),\r\n                isOpen: true,\r\n                autoSpacing: currentState.autoSpacing || false,\r\n                hexColorCode: `\\x1b[38;5;${ansi256}m` as any\r\n            })\r\n            const newInstance = new (this.constructor as any)(newState, '')\r\n            newInstance._accumulatedText = this._accumulatedText\r\n\r\n            return newInstance as any as ChalkeeBase\r\n        },\r\n        writable: true,\r\n        enumerable: false,\r\n        configurable: true\r\n    })\r\n\r\n    // RGB color creator\r\n    Object.defineProperty(ChalkeeBase.prototype, 'createRgbColor', {\r\n        value: function createRgbColor(this: typeof ChalkeeBase, r: number, g: number, b: number): ChalkeeBase {\r\n            const currentState = this._state || createStyleState()\r\n\r\n            // Convert RGB to ANSI 256 color\r\n            const ansi256 = rgbToAnsi256(r, g, b)\r\n\r\n            // Create state with the RGB color code\r\n            const newState = mergeStyleStates(currentState, {\r\n                ...createStyleState(),\r\n                isOpen: true,\r\n                autoSpacing: currentState.autoSpacing || false,\r\n                rgbColorCode: `\\x1b[38;5;${ansi256}m` as any\r\n            })\r\n            const newInstance = new (this.constructor as any)(newState, '')\r\n            newInstance._accumulatedText = this._accumulatedText\r\n\r\n            return newInstance as any as ChalkeeBase\r\n        },\r\n        writable: true,\r\n        enumerable: false,\r\n        configurable: true\r\n    })\r\n\r\n    // Background hex color creator\r\n    Object.defineProperty(ChalkeeBase.prototype, 'createBgHexColor', {\r\n        value: function createBgHexColor(this: typeof ChalkeeBase, color: string): ChalkeeBase {\r\n            const currentState = this._state || createStyleState()\r\n\r\n            // Parse hex color\r\n            const hexCode = parseHex(color)\r\n            if (!hexCode) {\r\n                return this as any as ChalkeeBase\r\n            }\r\n\r\n            const [r, g, b] = hexCode\r\n            const ansi256 = rgbToAnsi256(r, g, b)\r\n\r\n            // Create state with the background hex color code\r\n            const newState = mergeStyleStates(currentState, {\r\n                ...createStyleState(),\r\n                isOpen: true,\r\n                autoSpacing: currentState.autoSpacing || false,\r\n                bgHexColorCode: `\\x1b[48;5;${ansi256}m` as any\r\n            })\r\n            const newInstance = new (this.constructor as any)(newState, '')\r\n            newInstance._accumulatedText = this._accumulatedText\r\n\r\n            return newInstance as any as ChalkeeBase\r\n        },\r\n        writable: true,\r\n        enumerable: false,\r\n        configurable: true\r\n    })\r\n\r\n    // Background RGB color creator\r\n    Object.defineProperty(ChalkeeBase.prototype, 'createBgRgbColor', {\r\n        value: function createBgRgbColor(this: typeof ChalkeeBase, r: number, g: number, b: number): ChalkeeBase {\r\n            const currentState = this._state || createStyleState()\r\n\r\n            // Convert RGB to ANSI 256 color\r\n            const ansi256 = rgbToAnsi256(r, g, b)\r\n\r\n            // Create state with the background RGB color code\r\n            const newState = mergeStyleStates(currentState, {\r\n                ...createStyleState(),\r\n                isOpen: true,\r\n                autoSpacing: currentState.autoSpacing || false,\r\n                bgRgbColorCode: `\\x1b[48;5;${ansi256}m` as any\r\n            })\r\n            const newInstance = new (this.constructor as any)(newState, '')\r\n            newInstance._accumulatedText = this._accumulatedText\r\n\r\n            return newInstance as any as ChalkeeBase\r\n        },\r\n        writable: true,\r\n        enumerable: false,\r\n        configurable: true\r\n    })\r\n}\r\n\r\n// Helper function to attach special color methods for .bg mode\r\n// Pre-create property descriptors to avoid recreating them for each instance\r\nconst BG_PROPERTY_DESCRIPTORS: Record<string, PropertyDescriptor> = {}\r\n\r\nfunction createBgPropertyDescriptor(colorName: string, bgColorName: string): PropertyDescriptor {\r\n    const key = `${colorName}_${bgColorName}`\r\n    if (BG_PROPERTY_DESCRIPTORS[key]) {\r\n        return BG_PROPERTY_DESCRIPTORS[key]\r\n    }\r\n\r\n    const descriptor: PropertyDescriptor = {\r\n        get(this: any) {\r\n            return this.createBgReplace(bgColorName)\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    }\r\n\r\n    BG_PROPERTY_DESCRIPTORS[key] = descriptor\r\n    return descriptor\r\n}\r\n\r\nfunction attachSpecialBgMethods(instance: any) {\r\n    // Attach all foreground color methods to this instance to enable chaining\r\n    const colorMap: Record<string, string> = {\r\n        red: 'bgRed',\r\n        green: 'bgGreen',\r\n        blue: 'bgBlue',\r\n        yellow: 'bgYellow',\r\n        magenta: 'bgMagenta',\r\n        cyan: 'bgCyan',\r\n        white: 'bgWhite',\r\n        black: 'bgBlack',\r\n        gray: 'bgBlackBright',\r\n        grey: 'bgBlackBright',\r\n        redBright: 'bgRedBright',\r\n        greenBright: 'bgGreenBright',\r\n        blueBright: 'bgBlueBright',\r\n        yellowBright: 'bgYellowBright',\r\n        magentaBright: 'bgMagentaBright',\r\n        cyanBright: 'bgCyanBright',\r\n        whiteBright: 'bgWhiteBright',\r\n        blackBright: 'bgBlackBright'\r\n    }\r\n\r\n    // Reuse cached descriptors for performance\r\n    for (const [colorName, bgColorName] of Object.entries(colorMap)) {\r\n        const descriptor = createBgPropertyDescriptor(colorName, bgColorName)\r\n        Object.defineProperty(instance, colorName, descriptor)\r\n    }\r\n}\r\n\r\n// Automatically attach the methods when this module is imported\r\nattachUtilMethods(ChalkeeBase)\r\n\r\nexport { attachSpecialBgMethods }"],"names":["attachUtilMethods","ChalkeeBase","colorName","currentState","createStyleState","colorDef","getColor","newState","mergeStyleStates","newInstance","attachSpecialBgMethods","bgInstance","color","hexCode","parseHex","r","g","b","ansi256","rgbToAnsi256","BG_PROPERTY_DESCRIPTORS","createBgPropertyDescriptor","bgColorName","key","descriptor","instance","colorMap"],"mappings":"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"}