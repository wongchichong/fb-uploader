"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const C=require("./ChalkeeBase.cjs");let t;function g(e){t=e}const s=new Map;function c(e){if(e.hexColorCode)return e.hexColorCode;if(e.rgbColorCode)return e.rgbColorCode;if(e.bgHexColorCode)return e.bgHexColorCode;if(e.bgRgbColorCode)return e.bgRgbColorCode;const o=[];for(const r of e.modifiers){const l=t?t(r):void 0;l!==void 0&&o.push(l)}for(const r of e.colors)o.push(r.ansiCode);for(const r of e.backgroundColors)o.push(r.ansiCode);if(o.length===0)return"";const i=o.join(";");if(s.has(i))return s.get(i);const n=`\x1B[${i}m`;return s.set(i,n),n}function d(){return"\x1B[0m"}function u(e,o){if(C.ChalkeeBase.noColor)return e;const i=c(o),n=d();return o.autoSpacing&&o.previousStyles&&(o.previousStyles.colors.length>0||o.previousStyles.modifiers.length>0||o.previousStyles.backgroundColors.length>0)?" "+c(o)+e+n:i+e+n}function f(e,o){let i=e.modifiers;if(o.modifiers.length>0){const r=o.modifiers.length>0?[...e.modifiers,...o.modifiers]:e.modifiers;i=r.length>0&&new Set(r).size<r.length?[...new Set(r)]:r}const n={colors:e.colors.length>0||o.colors.length>0?[...e.colors,...o.colors]:e.colors,modifiers:i,backgroundColors:e.backgroundColors.length>0||o.backgroundColors.length>0?[...e.backgroundColors,...o.backgroundColors]:e.backgroundColors,isOpen:o.isOpen,previousStyles:e,autoSpacing:o.autoSpacing};return o.hexColorCode&&(n.hexColorCode=o.hexColorCode),o.rgbColorCode&&(n.rgbColorCode=o.rgbColorCode),o.bgHexColorCode&&(n.bgHexColorCode=o.bgHexColorCode),o.bgRgbColorCode&&(n.bgRgbColorCode=o.bgRgbColorCode),n}function p(){return{colors:[],modifiers:[],backgroundColors:[],isOpen:!1,autoSpacing:!1}}exports.applyStyle=u;exports.createReset=d;exports.createStyleState=p;exports.mergeStyleStates=f;exports.setModifierLookup=g;exports.styleStateToAnsi=c;
//# sourceMappingURL=styler.cjs.map
